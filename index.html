<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,maximum-scale=2.0,minimum-scale=1.0,user-scalable=yes">

<!-- <link rel="manifest" href="../manifest.json"> -->
<link rel="manifest" href="manifest.json">
<title>MyPage｜デモこども園</title>
<script src="https://cdn.onesignal.com/sdks/web/v16/OneSignalSDK.page.js" defer></script>
<script>
  window.OneSignalDeferred = window.OneSignalDeferred || [];
  OneSignalDeferred.push(function(OneSignal) {
    OneSignal.init({
      appId: "6970c1c2-d726-4426-ac3b-b029c0fc0bce",
    });

  const eventListener = (()=>{
    OneSignal.Notifications.addEventListener("permissionChange", ()=>{
      if (!permission) {
        console.log('promptSlide')
        OneSignal.Slidedown.promptPush()
      }
    })
  });

  setTimeout(eventListener(), 5000);  
  });

  // OneSignal.login("100234")
  
  const addTag = (()=>{
    OneSignal.User.addTag("test", "1");
    alert("tag added");
  });

  const promptSlide = (()=>{
    OneSignal.Slidedown.promptPush()
  });
</script>

</head>
  <body class="admin bg_white">
  <header>
      <div class="head_bar">
          <div>
              <h1>OneSignal Index</h1>
          </div>
      </div>
  </header>
  <ul class="btn_wrap_mp" align="center">
    <a href="menu_test.html">menu_test</a>

    <button type="button" class="btn btn-primary" onclick="addTag()">Add Tag</button>
    <button type="button" class="btn btn-primary" onclick="promptSlide()">Prompt Slide</button>
  </ul>
  </body>
</html>
